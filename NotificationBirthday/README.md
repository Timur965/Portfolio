# NotificationBirthday    
    
## Описание    
    
Этот проект предназначен для рассылки уведомлений о днях рождения 
    
## Требования    
    
- Docker  

## Установка и запуск
    
### 1. Клонируйте репозиторий: 
Откройте консоль в папке которой хотите чтобы хранился проект.
В консоле введите:
```sh  
git clone https://github.com/Timur965/Portfolio/tree/main/NotificationBirthday
```
Или выкачайте каталог любым удобным для вас способом
### 2. Настройте файл `.env` в корне проекта и укажите следующие переменные:  
```makefile  
POSTGRES_DB=Friends  
POSTGRES_USER=postgres  
POSTGRES_PASSWORD=220201  
POSTGRES_HOST=db  
DB_HOST_PORT=5432 

EMAIL=example@mail.ru   #Укажите Email с которого будут выполнятся рассылка. 
                        #Домен должен быть @mail.ru
PASS_EMAIL="example"    #Пароль для внешнего соединения. Он как правило хэширован
```  

### 3. Запуск:
    В корневой папке откройте консоль и введите:
    docker-compose up

После того как команда выполнилась контейнер будет запущен. Чтобы выключить контейнер нажмите Ctrl+c или просто закройте консоль. В последующем контейнер можно запускать через Docker Desktop.
После запуска контейнера сайт доступен по адресу localhost:8080

## Описание каталогов
#### Backend
##### - Католог Backend - в нём хранятся каталоги для общей работы всего backend-а сайта и main.go для запуска backend
##### - Каталог Database - в нём хранится файл с подключением к БД и выполнением различных запросов
##### - Каталог ENV - в нём хранится файл с получением данных из env файла для БД и отправки Email
##### - Каталог Handlers - в нём хранится файлы для обработки всех страниц сайта(handlers.go), для обработки данных из БД, POST, GET методов (HandleDataMethods.go), для работы с cookie (Cookies.go)
#### BackupSQL
##### - Каталог BackupSQL - в нём хранится файл с бэкапом из SQL для создания таблиц и БД
#### SendNotification
##### - Каталог SendNotification - в нём хранятся файл и каталог для проверки необходимости отправки Email с ближайшими ДР
##### - Каталог Send - в нём хранятся файл для отправки Email сообщений всем подписанным людям о ближайших ДР
##### - Файл main.go - Предназначен для запуска планировщика задач. Проверяет ежедневно необходимость отправки email
#### Файлы в корневом каталоге
##### .env - файл предназначен для хранения информации о пользователе БД и Email
##### docker-compose.yml - файл предназначен для создания контейнера в Docker из  docker файлов 
##### DockerfileBackend - файл предназначен для создания image в docker для запуска backend-а
##### DockerfileSendNotification - файл предназначен для создания image в docker для запуска планировщика задач
##### go.mod и go.sum - файлы предназначены для управления зависимостями в проекте
##### index.html - файл для отображения страницы авторизации
##### main.html - файл для отображения главной страницы
##### Registration.html - файл для отображения страницы регистрации
##### style.css - файл со стилями для всех html страниц
